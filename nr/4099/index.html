<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=description content=一个SJTUOJ的题解分享网站><meta name=lang:clipboard.copy content="Copy to clipboard"><meta name=lang:clipboard.copied content="Copied to clipboard"><meta name=lang:search.language content=en><meta name=lang:search.pipeline.stopwords content=True><meta name=lang:search.pipeline.trimmer content=True><meta name=lang:search.result.none content="No matching documents"><meta name=lang:search.result.one content="1 matching document"><meta name=lang:search.result.other content="# matching documents"><meta name=lang:search.tokenizer content=[\s\-]+><link rel="shortcut icon" href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.1, mkdocs-material-4.6.3"><title>4099 Love and Auto Memories Doll</title><link rel=stylesheet href=../../assets/stylesheets/application.adb8469c.css><script src=../../assets/javascripts/modernizr.86422ebf.js></script><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style><link rel=stylesheet href=../../assets/fonts/material-icons.css><script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-159960487-2", "oj")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script><script async src=https://www.google-analytics.com/analytics.js></script></head> <body dir=ltr> <svg class=md-svg> <defs> <svg xmlns=http://www.w3.org/2000/svg width=416 height=448 viewbox="0 0 416 448" id=__github><path fill=currentColor d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg> </defs> </svg> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay data-md-component=overlay for=__drawer></label> <a href=#fineartzs-solution tabindex=0 class=md-skip> Skip to content </a> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid"> <div class=md-flex> <div class="md-flex__cell md-flex__cell--shrink"> <a href=../.. title=SJTUOJ解答集 aria-label=SJTUOJ解答集 class="md-header-nav__button md-logo"> <i class=md-icon></i> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title> <span class=md-header-nav__topic> SJTUOJ解答集 </span> <span class=md-header-nav__topic> 4099 Love and Auto Memories Doll </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--search md-header-nav__button" for=__search></label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input aria-label=search name=query placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=query data-md-state=active> <label class="md-icon md-search__icon" for=__search></label> <button type=reset class="md-icon md-search__icon" data-md-component=reset tabindex=-1> &#xE5CD; </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=result> <div class=md-search-result__meta> Type to start searching </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <div class=md-header-nav__source> <a href=https://github.com/SJTU-OJ/SJTU-OJ.github.io/ title="Go to repository" class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> SJTU-OJ/SJTU-OJ.github.io </div> </a> </div> </div> </div> </nav> </header> <div class=md-container> <main class=md-main role=main> <div class="md-main__inner md-grid" data-md-component=container> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" data-md-level=0> <label class="md-nav__title md-nav__title--site" for=__drawer> <a href=../.. title=SJTUOJ解答集 class="md-nav__button md-logo"> <i class=md-icon></i> </a> SJTUOJ解答集 </label> <div class=md-nav__source> <a href=https://github.com/SJTU-OJ/SJTU-OJ.github.io/ title="Go to repository" class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> SJTU-OJ/SJTU-OJ.github.io </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. title=主页 class=md-nav__link> 主页 </a> </li> <li class=md-nav__item> <a href=../ title=索引 class=md-nav__link> 索引 </a> </li> <li class=md-nav__item> <a href=../../add/ title=添加 class=md-nav__link> 添加 </a> </li> <li class=md-nav__item> <a href=../../thanks/ title=鸣谢 class=md-nav__link> 鸣谢 </a> </li> <li class=md-nav__item> <a href=../../about/ title=关于 class=md-nav__link> 关于 </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#fineartzs-solution class=md-nav__link> FineArtz's solution </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/SJTU-OJ/SJTU-OJ.github.io/edit/master/docs/nr/4099.md title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a> <h1>4099 Love and Auto Memories Doll</h1> <script async defer src=https://buttons.github.io/buttons.js></script> <div class="admonition success"> <p class=admonition-title>推荐</p> <p><a href=https://skyzh.xyz>迟先生</a>搞了一个<a href=https://github.com/skyzh/awesome-cs>上海交通大学计算机系本科作业参考</a>存储库，大家点这个按钮就可以传送并立刻<a class=github-button href=https://github.com/skyzh/awesome-cs data-icon=octicon-star data-show-count=true aria-label=Star!></a>一个</p> <p>如果你对网站的实现感兴趣，或是对本站和脚本的实现有新的想法，请加入<a href=https://t.me/koraboreta>telegram吹水群</a>。</p> </div> <details> <summary><a href=https://acm.sjtu.edu.cn/OnlineJudge/problem/4099>题目</a></summary> <article class=span9> <h2> Description </h2> <p> 现在是周五晚上六点，想必家住上海的同学们很想早点回家，外地的同学多半还没吃晚饭，吃了晚饭的同学也因为经历了一周的工作学习觉得很累想要赶快去睡觉，斗志涣散，不想写题。但这对于钢铁直女紫薇酱来说都不是问题，因为紫薇没有家人，又在军队中受过执行任务时可以长时间不进食不睡觉的训练，所以她现在状态绝佳，正以200+APM的速度锐意工作中。紫薇是一名打字员，她的工作就是为客户代写书信。尽管紫薇分分钟就能码完一封信，但她在不断码字的过程中，对个别的词语产生了特别的兴趣，比方说，love。于是她开始一封一封看之前码过的信，想要从里面找出某个特定的词出现了多少次，以及第一次是在哪里出现的。 </p> <p> 但紫薇很快发现自己码过的信太长太多，靠自己找实在是太慢了。于是她找到了你，希望你能够帮帮她。同学们的水平都很高，想必扫一眼就会说“简单的KMP算法，秒了”，但这不太符合A是一道新手签到题的设定，因此在这里特别强调一下，这里的信保证只有一行字符（结尾有个回车），用空格来分割单词，除了大小写英文字母和空格之外没有别的符号；而且还要求整个单词完全相同才算匹配（但不区分大小写），前缀后缀或者在中间都是不行的。 </p> <h2> Input Format </h2> <p> 输入共三行。 </p> <p> 第一行一个单词（由大小写字母组成），回车； </p> <p> 第二行一个整数，表示接下来的字符串由多少个单词组成，回车； </p> <p> 第二行一个字符串（由大小写字母和空格组成），回车。可能有多个连续的空格和行首行末空格。 </p> <h2> Output Format </h2> <p> 输出共一行。 </p> <p> 若给的单词是在字符串中出现过的单词（必须是前后被开头/空格/或回车夹着的完整单词，且忽略大小写后必须全等），则输出一行两个整数。第一个整数为字符串中有几个这样的单词；第二个整数为字符串中该单词第一次出现的位置（字符串第一个字符的位置设为0），并且该数字是忽略所有空格的，也就是空格的多少不会影响这个答案。 </p> <p> 若在字符串中没有出现过给定的单词，输出-1。 </p> <h2> Sample Input </h2> <p> 数据1： </p> <pre><code>Love
13
    Dear loVe    Your charms aLoNe are beAUTiFul    Can yoU be my dEar lOVE 
</code></pre> <p> 数据2： </p> <pre><code>moe
26
Moe te i ma sen    Moe te ru yo    Moe te i ma sen  o ka shii de su    I ya moe te ru n da  
</code></pre> <p> 数据3： </p> <pre><code>Feeling
58
Perception of the physical world does not necessarily result in a universal reaction among receivers But varies depending up on ones tendency handle the situation How the situation relates to the receivers past experience And any number of other factors Feelings are also known as a state of consciousness Such as that resulting from emotions sentiments or desires
</code></pre> <h2> Sample Output </h2> <p> 数据1： </p> <pre><code>2 4
</code></pre> <p> 数据2： </p> <pre><code>4 0
</code></pre> <p> 数据3： </p> <pre><code>-1
</code></pre> <p> 数据解释： 数据1在忽略所有空格（包括分割单词的空格）之后，loVe的l处在字符串中4的位置，且不区分大小写的love总共出现了两次，因此答案为2, 4。 数据2再次提醒，字符串是以0作为第一个下标的。 数据3的字符串中有单词Feelings，但是因为不是Feeling，所以输出结果为-1。 </p> <h2> Data Range </h2> <p> 对于\(100\%\)的数据，所有单词的长度\(1 \le W \le 250\)，文章的长度\(1 \le L \le 10^7\)。 </p> <p> 但仅对于\(90\%\)的数据，单词数\(N \le 4 \times 10^4\)。 </p> </article> </details> <h2 id=fineartzs-solution>FineArtz's solution <a class=github-button href=https://github.com/FineArtz/SJTUOJ data-icon=octicon-star data-show-count=true aria-label=Star!></a></h2> <div class=codehilite><pre><span></span><code><span class=cm>/* Love and Auto Memories Doll */</span>
<span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp></span>
<span class=cp>#include</span> <span class=cpf>&lt;cstring&gt;</span><span class=cp></span>
<span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>

<span class=kr>inline</span> <span class=kt>void</span> <span class=nf>lowercase</span><span class=p>(</span><span class=kt>char</span> <span class=o>*</span><span class=n>s</span><span class=p>,</span> <span class=kt>int</span> <span class=n>len</span><span class=p>){</span>
    <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>len</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>s</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&lt;</span> <span class=sc>&#39;a&#39;</span><span class=p>)</span>
            <span class=n>s</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=n>s</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>+</span> <span class=sc>&#39;a&#39;</span> <span class=o>-</span> <span class=sc>&#39;A&#39;</span><span class=p>;</span>
<span class=p>}</span>

<span class=kt>int</span> <span class=nf>main</span><span class=p>(){</span>
    <span class=n>ios</span><span class=o>::</span><span class=n>sync_with_stdio</span><span class=p>(</span><span class=nb>false</span><span class=p>);</span>
    <span class=n>cin</span><span class=p>.</span><span class=n>tie</span><span class=p>(</span><span class=mi>0</span><span class=p>);</span>
    <span class=n>cout</span><span class=p>.</span><span class=n>tie</span><span class=p>(</span><span class=mi>0</span><span class=p>);</span>
    <span class=kt>char</span> <span class=n>s</span><span class=p>[</span><span class=mi>255</span><span class=p>],</span> <span class=n>w</span><span class=p>[</span><span class=mi>255</span><span class=p>];</span>
    <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>s</span><span class=p>;</span>
    <span class=kt>int</span> <span class=n>n</span><span class=p>,</span> <span class=n>lens</span> <span class=o>=</span> <span class=n>strlen</span><span class=p>(</span><span class=n>s</span><span class=p>);</span>
    <span class=n>lowercase</span><span class=p>(</span><span class=n>s</span><span class=p>,</span> <span class=n>lens</span><span class=p>);</span>
    <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>n</span><span class=p>;</span>
    <span class=kt>int</span> <span class=n>ans</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>cnt</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
    <span class=k>while</span> <span class=p>(</span><span class=n>n</span><span class=o>--</span><span class=p>){</span>
        <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>w</span><span class=p>;</span>
        <span class=kt>int</span> <span class=n>l</span> <span class=o>=</span> <span class=n>strlen</span><span class=p>(</span><span class=n>w</span><span class=p>);</span>
        <span class=n>lowercase</span><span class=p>(</span><span class=n>w</span><span class=p>,</span> <span class=n>l</span><span class=p>);</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>lens</span> <span class=o>!=</span> <span class=n>l</span><span class=p>){</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>cnt</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span>
                <span class=n>ans</span> <span class=o>+=</span> <span class=n>l</span><span class=p>;</span>
        <span class=p>}</span>
        <span class=k>else</span><span class=p>{</span>
            <span class=kt>bool</span> <span class=n>flag</span> <span class=o>=</span> <span class=nb>true</span><span class=p>;</span>
            <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>l</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>){</span>
                <span class=k>if</span> <span class=p>(</span><span class=n>s</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>!=</span> <span class=n>w</span><span class=p>[</span><span class=n>i</span><span class=p>]){</span>
                    <span class=n>flag</span> <span class=o>=</span> <span class=nb>false</span><span class=p>;</span>
                    <span class=k>break</span><span class=p>;</span>
                <span class=p>}</span>
            <span class=p>}</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>flag</span><span class=p>){</span>
                <span class=o>++</span><span class=n>cnt</span><span class=p>;</span>
            <span class=p>}</span>
            <span class=k>else</span><span class=p>{</span>
                <span class=k>if</span> <span class=p>(</span><span class=n>cnt</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span>
                    <span class=n>ans</span> <span class=o>+=</span> <span class=n>l</span><span class=p>;</span>
            <span class=p>}</span>
        <span class=p>}</span>
    <span class=p>}</span>
    <span class=k>if</span> <span class=p>(</span><span class=n>cnt</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span>
        <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&quot;-1</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>;</span>
    <span class=k>else</span>
        <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>cnt</span> <span class=o>&lt;&lt;</span> <span class=sc>&#39; &#39;</span> <span class=o>&lt;&lt;</span> <span class=n>ans</span> <span class=o>&lt;&lt;</span> <span class=sc>&#39;\n&#39;</span><span class=p>;</span>
    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div> </article> </div> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> powered by <a href=https://www.mkdocs.org target=_blank rel=noopener>MkDocs</a> and <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs</a> </div> </div> </div> </footer> </div> <script src=../../assets/javascripts/application.c33a9706.js></script> <script>app.initialize({version:"1.1",url:{base:"../.."}})</script> </body> </html>