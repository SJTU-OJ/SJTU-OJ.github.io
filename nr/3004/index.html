<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content=一个SJTUOJ的题解分享网站><link rel="shortcut icon" href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.1.2, mkdocs-material-6.1.2"><title>3004 - SJTUOJ解答集</title><link rel=stylesheet href=../../assets/stylesheets/main.19190aaf.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.24b84193.min.css><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-159960487-2","oj"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}),document.addEventListener("DOMContentSwitch",function(){ga("send","pageview",document.location.pathname)})</script><script async src=https://www.google-analytics.com/analytics.js></script></head> <body dir=ltr data-md-color-scheme data-md-color-primary=none data-md-color-accent=none> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#3004-ieee class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid" aria-label=Header> <a href=../.. title=SJTUOJ解答集 class="md-header-nav__button md-logo" aria-label=SJTUOJ解答集> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg> </a> <label class="md-header-nav__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header-nav__title data-md-component=header-title> <div class=md-header-nav__ellipsis> <span class="md-header-nav__topic md-ellipsis"> SJTUOJ解答集 </span> <span class="md-header-nav__topic md-ellipsis"> 3004 </span> </div> </div> <label class="md-header-nav__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear data-md-component=search-reset tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header-nav__source> <a href=https://github.com/SJTU-OJ/SJTU-OJ.github.io/ title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> SJTU-OJ/SJTU-OJ.github.io </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title=SJTUOJ解答集 class="md-nav__button md-logo" aria-label=SJTUOJ解答集> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg> </a> SJTUOJ解答集 </label> <div class=md-nav__source> <a href=https://github.com/SJTU-OJ/SJTU-OJ.github.io/ title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> SJTU-OJ/SJTU-OJ.github.io </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> 主页 </a> </li> <li class=md-nav__item> <a href=../ class=md-nav__link> 索引 </a> </li> <li class=md-nav__item> <a href=../../add/ class=md-nav__link> 添加 </a> </li> <li class=md-nav__item> <a href=../../thanks/ class=md-nav__link> 鸣谢 </a> </li> <li class=md-nav__item> <a href=../../about/ class=md-nav__link> 关于 </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#oops class=md-nav__link> Oops! 本题目还没有解答！ </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/SJTU-OJ/SJTU-OJ.github.io/edit/master/docs/nr/3004.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <script async defer src=https://buttons.github.io/buttons.js></script> <h1 id=3004-ieee>3004 IEEE课程通知</h1> <details> <summary><a href=https://acm.sjtu.edu.cn/OnlineJudge/problem/3004>题目</a></summary> <article class=span9> <h2> 小学期安排 </h2> <p> 期末成绩计算：平时作业70% + 两次考试分别15%。 第一次考试满分300分。第二次考试满分按照230分计。 最后祝大家暑假愉快；） </p> <p> 7月9号安排：http://en.wikipedia.org/wiki/Eight_queens_puzzle 回溯搜索 7月6号安排：http://www.cs.berkeley.edu/~vazirani/algorithms/chap6.pdf </p> <p> 戎术讲解背包问题，相关动态规划问题。pigoneand讲解动态规划问题和深度优先搜索。 oj题目：1073 </p> <p> 蛇形矩阵5行标程 </p> <pre><code>#include &lt;iostream&gt;
#include &lt;cstring&gt;

using namespace std;

int main()
{
    int n = 5;
    for (int i = 1; i &lt;= n; ++i){
        for (int j = 1; j &lt;= n; ++j)
            if (i + j &lt;= n + 1) cout &lt;&lt; (i + j - 1) * (i + j - 2) / 2 + i * ((i + j) % 2) + j * (1 - (i + j) % 2) &lt;&lt; "\t";
            else cout &lt;&lt; n * n + 1 - (n - i + n - j + 1) * (n - i + n - j) / 2 - (n - i + 1) * ((i + j) % 2) - (n - j + 1) * (1 - (i + j) % 2) &lt;&lt; "\t";
        cout &lt;&lt; endl;
    }
}
</code></pre> <p> 7月4号安排：张羽兮讲高精度。今天大作业：实现一个高精度类，支持整数的加减乘除，重载+, -, *, /。实现正负数。 构造函数(支持从字符串构造)，拷贝构造函数，赋值，重载==,&gt;,&lt;,&gt;=, &lt;=。扩展支持，乘方等其他运算。本周末之前完成。 </p> <p> 7月2号安排：戎术介绍testing。pigoneand 介绍 http://www.mochima.com/tutorials/strings.html 布置第一次大作业 </p> <p> implement a c++ string class, support following function: overload operator : +, [], ==, =, etc... io: &lt;&lt;, &gt;&gt; function: find, rfind, find_first_of, find_first_not_of, substr, erase, replace, find_last_of, find_last_not_of unittest: design basic test case </p> <p> 6月29号安排 pigoneand 讲 http://www.cs.princeton.edu/~wayne/kleinberg-tardos/05divide-and-conquer.pdf </p> <p> 高脊同学负责他的题目。 </p> <h2> Windning的玩具标程 https://gist.github.com/3002558 </h2> <h2> 分糖果标程 https://gist.github.com/3002563 </h2> <p> 6月27号安排：袁涛、黄一峰负责两道题。下午负责挑选同学讲题，在下午四点之后公布两位助教的标程供同学参考学习。 课后作业：参考黄一峰的代码实现基于模版的数据结构堆。 实现一个最小堆，支持push, pop, top, empty, clear, size基本操作。 并与STL的priority_queue进行性能比较。截止日期：6月29号 </p> <p> 6月25号安排：蔡树阳负责两道题。 pigoneand讲testing, sorting，templates in C++. </p> <pre><code>http://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-096-introduction-to-c-january-iap-2011/lecture-notes/MIT6_096IAP11_lec09.pdf

http://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-096-introduction-to-c-january-iap-2011/lecture-notes/MIT6_096IAP11_lec10.pdf
</code></pre> <p> 6月20号安排：王凯南负责今天助教工作。上午由他负责布置作业。下午挑选部分同学讲题。 今天oj题目：3013,3014。 另外布置翁老师上次考试的第二题作为课后作业： </p> <p> 2．设计并实现一个保存和处理大规模整型数组的类。该数组中约有1%的非0元素。为了节约存储空间，用一个基于线性探测法的闭散列表存储所有非零元素，所有不在散列表中的元素值被视为0。 </p> <hr> <p> 1．用单循环链表实现的队列类定义如下，请实现所有的成员函数。 </p> <pre><code>class cycQueue {
    struct Node {
        int data;    // 队列元素
        Node *next;
    };
    Node  *tail;    // 指向队尾元素的指针
    public:
    cycQueue();
    ~cycQueue();
    void enQueue(int x);
    int deQueue();
    bool isEmpty();
};
</code></pre> <p> 材料： http://acm.sjtu.edu.cn/courses/cs110/fa11 c++经典教材：C++ Primer （google搜索可以下到电子版） </p> <p> 前两周进行专题训练，早上由负责助教布置题目，讲解知识点。然后开始做题。 下午由助教挑选部分同学讲题，最后由助教（出题人）讲解标程。 同时每周一安排几个专题讲座，讲解coding style, pointer in C, debugging, testing。 后两周布置两个大作业。考试方式待定，但最终成绩主要依赖于平时作业。 </p> <p> 6月18号安排：上午-翁老师讲题 pigoneand讲coding style, pointer in C。下午做翁老师考试题目，循环链表 题目描述稍后给出 </p> <p> 单链表补充材料：http://blog.csdn.net/hairetz/article/details/5836986 有兴趣同学可以读读研究。 指针与缓冲区溢出 http://baike.baidu.com/view/36638.htm 很有意思的补充材料，看不懂下次讲 </p> <h2> 上机期末考试通知 </h2> <p> 本次考试四道题（3009,3010,3011,3012），每题满分100分。总分400分。330分以上即为满分。 </p> <p> 感谢大家对我们助教工作的支持。祝大家取得好成绩，千万不要作弊！ 否则后果自负。 </p> <p> 最后请班级助教汇总你负责的同学的所有平时作业成绩，在下周末之前发给我们以便统计成绩。 </p> <h2> 第三次上机考试通知 </h2> <p> 这里通知一下。基于大家的提议，我们第三次上机考（最后一次上机考）定于15周（下周三）老时间地点进行。 麻烦大家通知其他同学，下周三一定要来参加考试。 </p> <p> 考试范围为基本数据机构：链表、二叉树、队列、图。 涉及到的算法有：排序，二叉树遍历，图的拓扑排序。 考试题目初定为四道。两道和数据结构有关，一道送分，一道考编程基本能力。 </p> <h2> 本周上机作业1042，1043 </h2> <h2> 期末之前的实验作业： </h2> <p> 请大家在16周周三之前完成以下两个实验并撰写报告。发给对应的助教。 </p> <pre><code>一、  实验名称：排序
二、  实验目的：掌握各种排序算法及运行时间
三、  实验内容：
1、  实现直接选择排序、气泡排序、快速排序和堆排序算法。
2、  重复10次下列工作：
（1） 随机产生50000个1 - 50000之间不同的随机数
（2） 用上述四种算法对他们进行排序
（3） 记录排序的时间
3、  检查运行时间是否符合相应算法的时间复杂度
四、  评分标准
(1) 正确实现四种排序（60分）；
(2) 随机产生测试数据（10分）；
(3) 记录运行时间（10分）；
(4) 有注释，代码易于阅读（10分）
(5) 实验报告撰写认真（10分）。

一、  实验名称：拓扑排序
二、  实验目的：掌握图的存储及拓扑排序算法
三、  实验内容：
给出某专业所有课程及课程之间的先导和后继关系，假设所有课程在每学期都能提供学生选修，学生每学期最多只能选6门课，请为学生安排一个培养计划，使之能用最少的学期数修完所有课程。
不能用STL。
输入规范：
第一行：N,M 。N为课程总数，M为课程关系总数。 课程编号为1..N。
下面M行：每行两个整数a,b。表示a是b的前导课程。 
输出规范：
第一行是最小学期数K
以下K行分别是每个学期所修课程。 如果有多种课程安排方式，取字典序最小的。 
四、  评分标准
(1) 正确选择并实现图的存储及基本运算的实现（30分）；
(2) 正确实现队列类（20分）；
(3) 正确安排培养计划（30分）；
(4) 有注释，代码易于阅读（10分）
(5) 实验报告撰写认真（10分）。
</code></pre> <h2> 本周作业 1039 1040 以及上次考试的四道题。 </h2> <pre><code>上周的作业，关于表达式的计算，可延期到本周五之前交给对应助教。 实验报告的基本要求：说明实现的基本数据结构和思路。 有测试用例，测试程序的正确性。 有程序运行效率的测试（这点不要求每个同学都有）。 
</code></pre> <h2> 第二次上机考解题报告 </h2> <ol> <li> <p> Windning's Ant 智力题, 因为所有蚂蚁的速度相同, 所以相遇转向的规则可以无视. 统计每只蚂蚁行动到目标端点的时间取最大值即可. </p> </li> <li> <p> Divisor Summation 本题数据范围较小, 使用暴力方法即可通过. 核心代码: </p> <p> for (int i = 1; i &lt; n; ++i) if (n % i == 0) ans += i; </p> </li> </ol> <p> 不过本题中的m可以出到200000以上. 有兴趣的同学可以做一下: http://www.spoj.pl/problems/DIVSUM/ </p> <ol> <li> Maple Tree 本题主要考察对于二叉树数据结构中递归关系的理解. 由中序加上前序后序中的任意一个遍历, 即可推出另外一个. 主要思路是, 在任意一种遍历中, 一棵子树得到的遍历串一定是一个连续的子串. 如果得到了当前子树的前序子串和中序子串, 由前序子串可知当前子树的根节点, 由中序子串中根节点的位置可知左右子树的子串长度. 然后递归处理左右子树. </li> </ol> <p> 核心代码: </p> <pre><code>// 调用traversal(0, (int)preOrd.size() - 1, 0, (int)postOrd.size() - 1)进入递归
void traversal(int preL, int preR, int inL, int inR)
{
    if (preR - preL + 1 &lt;= 0)
    {
        return ;
    }
    char c = preOrd[preL]; // 根节点
    int inMid = posMap[c]; // posMap[c]为c在中序遍历串中的位置
    int lenL = inMid - inL; // 左子树大小
    traversal(preL + 1, preL + lenL, inL, inMid - 1); // 递归处理左子树
    traversal(preL + lenL + 1, preR, inMid + 1, inR); // 递归处理右子树
    postOrd += c;
}
</code></pre> <ol> <li> Maze 主要队列数据结构的主要应用--广度优先搜索. 搜索过程中每次扩展只走一步, 队列先进先出的性质即保证了使用最少的步数走到目标节点. 题目中桥的设定容易干扰思路, 但只要理清思路, 写一个小函数专门判断也很难出错. 这也说明了结构化程序设计的重要. </li> </ol> <p> 核心代码: </p> <pre><code>struct SearchNode
{
    int x, y;
    int step;
    SearchNode(int x, int y, int step)
    {
        this-&gt;x = x;
        this-&gt;y = y;
        this-&gt;step = step;
    }
};

// 常数数组, 方便枚举4个方向的行动方式
int gox[4] = {0, -1, 0, 1};
int goy[4] = {-1, 0, 1, 0};
char gotype[4] = {'-', '|', '-', '|'};

// src 当前所处位置的地形, dst 尝试要走的位置的地形, type 移动类型(横向或纵向)
bool checkMove(char src, char dst, char type)
{
    // ...
}

// 返回值为答案: 最短距离
int work()
{
    // ...
    // 省略了初始化以及边界判断

    queue&lt;SearchNode&gt; que;
    que.push(SearchNode(x1, y1, 0));
    vd[x1][y1] = true; // vd为标记数组, 已经走过的点不会被再次访问, 保证了时间复杂度
    while (!que.empty())
    {
        SearchNode a = que.front();
        que.pop();
        for (int k=0; k&lt;4; k++)
        {
            int bx = a.x + gox[k];
            int by = a.y + goy[k];
            int bstep = a.step + 1;
            if (!vd[bx][by] &amp;&amp; checkMove(g[a.x][a.y], g[bx][by], gotype[k]))
            {
                if (bx == x2 &amp;&amp; by == y2)
                {
                    return bstep;
                }
                que.push(SearchNode(bx, by, bstep));
                vd[bx][by] = true;
            }
        }
    }
    return -1;
}
</code></pre> <h2> 第二次上机考试说明 </h2> <p> 题目错误说明： 3005 输出部分： 输出仅有一行 一个实数，保留3位小数，表示最后一只蚂蚁走下长棍的时刻(s) 提示，可用 printf("%.3f\n", ans); 来输出 %.3f后面是"斜杠，左上角到右下角的斜杠"n 不是 n 使用printf需要 </p> <pre><code>#include &lt;cstdio&gt;
printf("%.3f\n", ans);
</code></pre> <p> 3008 n, m &lt;= 100 </p> <p> 本次考试一共四道题，每道题满分100分总计400分。时间为两个小时。 考试满分按330分计（即如果你的分数超过330分此次考试成绩就视为满分，以此类推） 考试规则和上次一致，不再赘述。 不允许使用小号交题（实际上也根本不需要） 题目可以反复提交，以最高分计。不允许恶意提交，刷屏等行为。 </p> <h2> 本周作业 实验10 实验指导书 </h2> <p> 一、 实验名称：表达式计算 </p> <p> 二、 实验目的：掌握二叉树的各种操作 </p> <p> 三、 实验内容： 一个算术表达式可以表示成一棵二叉树。对这棵二叉树进行后序遍历，访问到一个运算符时，对它的左右儿子执行相应的运算。当访问到根结点时，得到了整个表达式的运算结果。设计一个能够完成整型数的加、减、乘、除和乘方运算的计算器。其中，乘方的优先级最高，乘除次之，加减最低，可以用小括号改变优先级。乘方是右结合的，其他运算符都是左结合的。所有运算符都是二元运算符，不考虑一元的减法。 </p> <p> 四、 评分标准 (1) 正确将表达式转化成表达式树（30分）； (2) 考虑了非法表达式的检测（10分）； (3) 正确计算表达式的结果（20分）； (4) 类的设计正确、合理（10分） (5) 正确设计计算器的控制流程（10分） (6) 有注释，代码易于阅读（10分） (7) 实验报告撰写认真（10分）。 </p> <h2> 本周作业 1048 1989(选做) 2000 2001 </h2> <p> 下周第二次上机考。考试时间地点方式方法不变。题目3-4题。 考二叉树之前的内容（包括二叉树）。 题目大致为一道简单题。一或二道数据结构题，一道综合题。每到题目都会有送分的部分。 </p> <h2> 1051 题解 </h2> <p> STL 方法 </p> <pre><code>// Problem 1051
// Created by Chris on 2012.4.11
#include &lt;list&gt;
#include &lt;iostream&gt;
using namespace std;

int main()
{
    list&lt;int&gt; num;
    list&lt;int&gt;::iterator it;
    int n, m, i, tmp, ans = 0;
    cin &gt;&gt; n;
    for (i = 0; i &lt; n; ++i)
    {
        cin &gt;&gt; tmp;
        num.push_back(tmp);
    }
    cin &gt;&gt; m;
    for (i = 0; i &lt; m; ++i)
    {
        cin &gt;&gt; tmp;
        for (it = num.begin(); it != num.end(); ++it)
        {
            ++ans;
            if (*it == tmp)
            {
                num.erase(it);
                num.push_front(tmp);
                break;
            }
        }
    }
    cout &lt;&lt; ans &lt;&lt; endl;
    return 0;
} 
</code></pre> <p> 另外一种解法为手写单链表或者双向链表。 </p> <pre><code>//Owner: 5110309069
#include&lt;iostream&gt;
using namespace std;
int main()
{
    struct node
    {
        int v;
        node *h;
    };
    int n;
    cin&gt;&gt;n;
    node *head,*tail;
    head=new node;
    cin&gt;&gt;head-&gt;v;
    tail=head;
    for(int i=1;i&lt;n;++i)
    {
        int tmp;
        cin&gt;&gt;tmp;
        node *p;
        p=new node;
        p-&gt;v=tmp;
        p-&gt;h=NULL;
        tail-&gt;h=p;
        tail=p;
    }
    int m;
    cin&gt;&gt;m;
    int cnt=0;
    for(int i=0;i&lt;m;++i)
    {
        int tmp;
        cin&gt;&gt;tmp;
        node *p,*q;
        p=head;
        q=NULL;
        while ((p-&gt;v!=tmp)&amp;&amp;(p-&gt;h!=NULL))
        {
            ++cnt;
            q=p;
            p=p-&gt;h;
        }
        ++cnt;
        if ((q!=NULL)&amp;&amp;(p-&gt;v==tmp))
        {
            q-&gt;h=p-&gt;h;
            p-&gt;h=head;
            head=p;
        }
    }
    cout&lt;&lt;cnt;
    return 0;
} 
</code></pre> <h2> 解题报告 </h2> <h2> 1. 二哥的幸运 </h2> <p> 本题的考察点是循环语句的使用, 旨在送分. 可惜仍有同学没有拿到满分. 我看了下大家的代码, 没有拿到满分的同学大多纠结在int类型和string类型的转换中. 事实上对于int类型只要使用除10模10的循环就可以得到每一位的数字, 没有必要转为string. </p> <pre><code>while (n != 0)
{
    int digit = n % 10;
    n /= 10;
}
</code></pre> <p> int类型转为string类型也是常见的操作, 如果一定想实现的话, 这里介绍一个技巧, 利用C++ STL的stringstream可以简单的实现: </p> <pre><code>string intToString(int n)
{
    stringstream ss;
    ss &lt;&lt; n;
    string s;
    ss &gt;&gt; s;
    return s;
}
</code></pre> <p> 对于其他的类型转换(如string转int)也同理, stringstream具体可参考C++ reference: http://www.cplusplus.com/reference/iostream/stringstream/ 目前阶段机试中并没有禁用STL, 适当利用STL可以节约很多时间. </p> <p> 关于STL: 个人建议有能力的同学要掌握STL的使用(推荐C++ Primer这本书), 节约代码是一方面, 其中代码功能的模块化和代码结构的设计思想更加值得初学者学习. 不过今后视情况可能会在考试中禁用STL(特别是数据结构部分), 所以基本功不够扎实的同学还是应该以夯实基础为主. 考试中不会出现STL特别占优势的题目. </p> <h2> 2. Ruko Sort </h2> <p> 排序+去重是个经典问题, 传统做法为快速排序之后加上O(n)的扫描, 总时间复杂度O(nlogn), 非本题标准解法不再赘述. 这题的特殊之处在于Ai的范围很小1 &lt;= Ai &lt;= 1000, 我们可以采取更简单的解法. 开一个长度为1000的bool数组(bool flag[1001]), 初始化为false. 然后每读入一个数字就把对应的flag设为true, 输出时只需要统计数组中有多少个true, 然后把数组中对应true的下标输出即可. 时间复杂度为O(m), m是Ai的范围. </p> <p> 另附STL解法(核心部分): </p> <pre><code>vector&lt;int&gt; data;
void work()
{
    sort(data.begin(), data.end());
    data.resize(unique(data.begin(), data.end()) - data.begin());
    cout &lt;&lt; data.size() &lt;&lt; endl;
    for (int i = 0; i &lt; (int)data.size() - 1; i++)
        cout &lt;&lt; data[i] &lt;&lt; " ";
    cout &lt;&lt; data[data.size()-1] &lt;&lt; endl;
}
</code></pre> <h2> 3. Strange Mushroom </h2> <p> 这道题的主要考点是高精度, 希望大家在作业完成之后能够加以思考, 今后能够熟练的解决同类问题. 因为是防退场题, 所以题目本身出的比较难, 不过考虑到这是第一次考试所以出了大量的送分点, 我们期望的是大部分同学能拿到90分. 可惜很多同学满足于long long能过80%的方法而没有进一步努力. 在此表扬考场中拿到90分的同学, 可惜前面数据放水太多导致这位同学的付出回报不大. </p> <p> 首先根据题目描述可以得到简单的递推方法: </p> <p> f[i][j]表示第i天长度为j的蘑菇有多少个, 则 </p> <pre><code>f[i][j] =  f[i-1][j-1] + f[i-1][j+1] , when j &gt;= 2

           f[i-1][j+1]               , otherwise
</code></pre> <p> 但是因为答案增长较快, 其中的加法需要使用高精度实现, 时间复杂度大致为O(n^2*log(Answer)), 在大数据点上会超时. </p> <p> 如果把f[i][j]列成表格. </p> <pre><code>+----------+-+-+-+-+-+-+-+
|Day\Length|1|2|3|4|5|6|7|
+----------+-+-+-+-+-+-+-+
|   1      | |1| | | | | |
+----------+-+-+-+-+-+-+-+
|   2      |1| |1| | | | |
+----------+-+-+-+-+-+-+-+
|   3      | |2| |1| | | |
+----------+-+-+-+-+-+-+-+
|   4      |2| |3| |1| | |
+----------+-+-+-+-+-+-+-+
|   5      | |5| |4| |1| |
+----------+-+-+-+-+-+-+-+
|   6      |5| |9| |5| |1|
+----------+-+-+-+-+-+-+-+
</code></pre> <p> 可以发现这和杨辉三角相似, 如果从三角形的顶点开始走, 每次只能向左下或右下, 那每个格子上的数就是从顶点到这里的路径数, 如果用-1表示向左下, 1表示向右下, 题目就可以转化为更清晰的形式: 求有多少个长度为n的1 -1序列, 满足任意前k个数的和不小于0. 对于长度为n的1 -1序列, 若包含m个-1, 则共有C(n, m)种排列方式. 其中就有C(n, m-1)个是不合法的, 原因如下: 假设个序列为d1 d2 d3... dn, 如果它不合法, 我们一定可以找到最小的一个k, 使得d1+d2+…+dk = -1 显然其中包含[k/2]个1和[k/2]+1个-1(记[]为取下整, 下同). 对前k个数取反, 就得到了一个包含着m-1个-1的长度为n的序列. 任何一个包含着m-1个-1的序列也可以通过类似的方式转化为包含m个-1的不合法序列, 并且这个转化是一一对应的. 所以上述猜想成立. </p> <p> 我们要求的答案就是 </p> <p> C(n, 0)+C(n, 1)-C(n, 0)+C(n, 2)-C(n, 1)+…+C(n, [n/2])-C(n, [n/2]-1) </p> <p> = C(n,[n/2]) </p> <p> 至此，本题转化成了简单的高精度计算，O(n*log(Answer))即可解决. 实现的时候可以乘除同时进行, 可以大量节省时间空间. </p> <p> 附核心代码: </p> <pre><code>int n;
BigInt ans;
cin &gt;&gt; n;
ans = 1; // 运算符等号重载, 将int类型转为BigInt类型.
int a, b;
a = n - (n/2) + 1;
b = 1;
for (int i=1; i&lt;=(n/2); i++)
{
    ans.multiplySmall(a); // 高精度整数乘以低精度整数
    ans.divideSmall(b); // 高精度整数除以低精度整数
    a++;
    b++;
}
ans.print();
</code></pre> <p> 高精度乘除低精度很好写, 都是一个for循环就能解决的问题, 希望大家能够尝试一下并实现自己的BigInt类:) </p> <h1> 翁老师作业6 </h1> <h2> 注意 </h2> <p> 这道题不需要提交。 我们仅用这道题作为通知各位同学的手段。这样方便我们今后公布解题报告和标准程序等信息。 </p> <h2> 下周交作业 </h2> <p> 由于上次通知不及时，请下周三之前大家把翁老师的作业2交给对应的班级助教。 下周五之前，完成翁老师作业6，交给助教。 翁老师作业6的要求实现一些类和对应的操作，由于题目只描述了一个大概， 以下文字仅仅是一个实现参考，我们推荐大家用这些类名和方法名来实现这个作业。 当然大家可以有自己的创造性。在提交作业时，需要注意： </p> <p> 1、代码可读性，要有必要注释 2、较为详细的测试程序 3、体现面向对象的思想 </p> <p> 请班级助教按照这三个指标来打分。谢谢 </p> <h2> Description </h2> <p> 这是翁老师布置作业的第六道题， </p> <p> 实验六 实验指导书 </p> <p> 一、 实验名称：银行账户模拟 </p> <p> 二、 实验目的：这道题主要目的是加深同对于面向对象编程中继承理解 </p> <p> 三、 实验内容： 题目描述：创建一个银行帐户的继承层次，表示银行的所有客户。所有的客户都能在他们的银行帐户中存钱、取钱。任务主要如下： (1) 创建Account类，作为基类。Account类应该包含帐户余额，并提供构造函数；向账户中余额加钱的方法；减少账户中余额的方法；获取当前帐户余额的方法。 </p> <pre><code>Class Account
{
    int saveMoney(double); // success:return 0;  Fail: return -1;
    int takeMoney(double);
    double check();
};
</code></pre> <p> (2) 创建Account类的派生类：储蓄账户SavingAccount类，除去基类Account的所有功能外，储蓄账户还应该具有新的特性。储蓄帐户应该提供一个计算利息的成员函数和将利息加到帐户余额上的操作。 </p> <pre><code>Class SavingAccount
{
    savingAccount(double interestPerYear);
    double calInterest(int year);
    int addInterest(int year);
};
</code></pre> <p> (3) 创建Account类的派生类：支票帐户CheckingAccount类，与储蓄账户不同的是，它没有利率的计算，但是它会在每笔交易后收取一定的交易费用。它需要重新定义基类Account中的成员函数，当每笔交易完成时，在帐户余额中减去交易金额。 </p> <pre><code>Class CheckingAccount
{
    checkingAccount(double percentage);
Override:
    int saveMoney(double); 
    int takeMoney(double);
};
</code></pre> <p> (4) 提示：在提供上述方法时应该注意出错情况的处理，比如帐户余额不足等情况。 </p> <p> 四、 程序的输入输出和测试程序 在当这个层次中的类定义完毕后，编写一个程序，要求创建每个类的对象并测试它们的成员函数，并且输出预期的，正确的结果。 </p> </article> </details> <h2 id=oops>Oops! 本题目还没有解答！</h2> <p>太难了，助教老师们编题的速度，已经超过了解题的速度！</p> <p>但是，如果你已经AC了，如果可以的话，请您参考<a href=/add>添加</a>页面，与大家一起分享你的题解！</p> </article> </div> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <script src=../../assets/javascripts/vendor.7e0ee788.min.js></script> <script src=../../assets/javascripts/bundle.c1ccee15.min.js></script><script id=__lang type=application/json>{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script> <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> </body> </html>